QUERY per capire se si può caricare o meno una batteria (della config 01)


PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX bat: <http://www.semanticweb.org/cyrill/ontologies/2023/3/battery/>
PREFIX pros: <http://www.semanticweb.org/prosumer#>
PREFIX : <http://www.semanticweb.org/prosumer/>
PREFIX saref: <https://saref.etsi.org/core/>
PREFIX sf2: <https://saref.etsi.org/>
PREFIX ic: <http://ontology.tno.nl/interconnect/datapoint#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?system ?unit ?maxSOC ?BatterySOC ?SOC ?capacity ?maxCharging ?maxCapacity ?shouldBe ?res
WHERE {
    ?prosumer rdf:type :Prosumer .
    ?prosumer :composedBy ?system .
    ?system rdf:type bat:StorageSystem .
    ?system saref:consistsOf ?unit .
    ?unit sf2:measuresProperty ?BatterySOC .
    ?BatterySOC pros:hasSOC ?SOC .
    ?unit bat:hasMaximumStateOfCharge ?maxSOC .
    ?unit bat:hasStorageCapacity ?capacity .
    ?unit pros:hasMaxChargingPower ?maxCharging .
    
    BIND((10) as ?x) #questa x sarebbe quanta energia avanza dal sistema, energia che la batteria deve assorbire dal sistema
    BIND((?maxSOC * ?capacity) as ?maxCapacity) .
    BIND((?SOC + ?x) as ?shouldBe) .
    BIND(if( (?maxCharging > ?x) && (?shouldBe < ?maxCapacity), true, false) as ?res) .
 }
 GROUP BY ?system ?unit ?maxSOC ?BatterySOC ?SOC ?capacity ?maxCharging ?maxCapacity ?shouldBe ?res


QUERY per capire se si può scaricare o meno una batteria (della config 01)


PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX bat: <http://www.semanticweb.org/cyrill/ontologies/2023/3/battery/>
PREFIX pros: <http://www.semanticweb.org/prosumer#>
PREFIX : <http://www.semanticweb.org/prosumer/>
PREFIX saref: <https://saref.etsi.org/core/>
PREFIX sf2: <https://saref.etsi.org/>
PREFIX ic: <http://ontology.tno.nl/interconnect/datapoint#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?system ?unit ?minSOC ?BatterySOC ?SOC ?capacity ?maxDischarging ?minCapacity ?shouldBe ?res
WHERE {
    ?prosumer rdf:type :Prosumer .
    ?prosumer :composedBy ?system .
    ?system rdf:type bat:StorageSystem .
    ?system saref:consistsOf ?unit .
    ?unit sf2:measuresProperty ?BatterySOC .
    ?BatterySOC pros:hasSOC ?SOC .
    ?unit bat:hasMinimumStateOfCharge ?minSOC .
    ?unit bat:hasStorageCapacity ?capacity .
    ?unit pros:hasMaxChargingPower ?maxDischarging .
    
    BIND((10) as ?x) #questa x sarebbe quanta energia servirebbe al sistema, energia che la batteria deve immettere nel sistema
    BIND((?minSOC * ?capacity) as ?minCapacity) .
    BIND((?SOC - ?x) as ?shouldBe) .
    BIND(if( (?maxDischarging > ?x) && (?shouldBe > ?minSOC), true, false) as ?res) .
 }
 GROUP BY ?system ?unit ?minSOC ?BatterySOC ?SOC ?capacity ?maxDischarging ?minCapacity ?shouldBe ?res

